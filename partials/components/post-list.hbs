{{!--
    Parameters:
    * feed (index, home, archive, recent)
    * postFeedStyle (list, grid)
    * showTitle (true, false)
    * showSidebar (true, false)
--}}

<section class="gh-container post-list-container gh-outer">
    <div class="gh-container-inner gh-inner">
        {{!-- Add the tag filter component --}}
        {{#is "home"}}
            {{> "components/tag-filter"}}
        {{/is}}

        <main class="gh-main">
            <div class="gh-feed">
                {{#foreach posts}}
                    <article class="post-list-item" data-tags="{{#foreach tags}}{{slug}}{{#unless @last}} {{/unless}}{{/foreach}}">
                        <div class="post-content">
                            <h2 class="post-title"><a href="{{url}}">{{title}}</a></h2>
                            <p class="post-excerpt">{{excerpt characters="140"}}</p>
                            <time class="post-date">{{date format="D MMMM, YYYY"}}</time>
                        </div>
                        {{#if feature_image}}
                            <div class="post-image">
                                <img src="{{feature_image}}" alt="{{title}}">
                            </div>
                        {{/if}}
                    </article>
                {{/foreach}}
            </div>

            {{#match pagination.pages ">" 1}}
                <div class="gh-more">
                    <a href="{{@site.url}}/page/2">See all {{> "icons/arrow"}}</a>
                </div>
            {{/match}}
        </main>
    </div>
</section>